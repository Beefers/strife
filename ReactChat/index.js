(function(n,R,l,e,c,s){"use strict";const a=c.createProxy({logIndex:0,rows:[]}).proxy,y=()=>l.after("updateRows",e.ReactNative.NativeModules.DCDChatManager,t=>{a.logIndex=t[0],a.rows=JSON.parse(t[1])}),{FormText:i}=s.Forms,u=e.stylesheet.createThemedStyleSheet({title:{fontSize:20}});function o({error:t}){return e.React.createElement(e.ReactNative.View,null,e.React.createElement(i,{style:u.title},"Well shit."),e.React.createElement(i,null,t))}const{FormText:d}=s.Forms,r=e.stylesheet.createThemedStyleSheet({body:{flex:1,flexDirection:"row",width:"100%"},avatar:{height:48,width:48},contentBody:{flex:1,flexDirection:"column"},usernameRow:{flex:1,flexDirection:"row"}});function h({row:t}){return React.createElement(e.ReactNative.View,{style:r.body},React.createElement(e.ReactNative.Image,{style:r.avatar,source:{uri:t.message.avatarURL}}),React.createElement(e.ReactNative.View,{style:r.contentBody},React.createElement(e.ReactNative.View,{style:r.usernameRow},React.createElement(d,null,t.message.username)),React.createElement(e.ReactNative.View,null,React.createElement(d,null,"Message content needs parsing..."))))}const w=e.stylesheet.createThemedStyleSheet({body:{flex:1,flexDirection:"column",backgroundColor:e.constants.ThemeColorMap.CHAT_BACKGROUND,height:"100%"}});function v(){return c.useProxy(a),a.rows.length===0?React.createElement(o,{error:"Rows empty"}):React.createElement(e.ReactNative.View,{style:w.body},React.createElement(e.ReactNative.FlatList,{data:a.rows,renderItem:({item:t})=>t.type===1?React.createElement(h,{row:t}):React.createElement(o,{error:`Unhandled message type ${t.type}`}),keyExtractor:t=>t.index.toString()}))}const E=R.findByDisplayName("Chat"),f=[y(),l.instead("render",E.prototype,()=>React.createElement(v,null))],x=()=>f.forEach(t=>t());return n.onUnload=x,n})({},vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.storage,vendetta.ui.components);
