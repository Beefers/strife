(function(d,n,e,R,l,r,i,f,y){"use strict";const o=l.createProxy([]).proxy;function h(){return R.after("dispatch",e.FluxDispatcher,function(a){n.storage.flux.logger.enabled&&o.push({time:e.moment().format("H:mm:ss.SSS"),data:a[0]})})}const p="https://cdn.discordapp.com/attachments/809852237236273174/1079892152609419336/wungus.png",{FormRow:s,FormDivider:m,FormText:v}=i.Forms;function E(a){let{dispatch:t}=a;const c=JSON.stringify(t.data,null,4);return React.createElement(e.ReactNative.ScrollView,{style:{flex:1}},React.createElement(s,{label:t.data.type,leading:React.createElement(s.Icon,{source:r.getAssetIDByName("ic_info_24px")})}),React.createElement(m,null),React.createElement(s,{label:t.time,leading:React.createElement(s.Icon,{source:r.getAssetIDByName("ic_timer_24px")})}),React.createElement(m,null),React.createElement(i.Summary,{label:"Data",icon:"ic_channels_24px"},React.createElement(e.ReactNative.TouchableOpacity,{onLongPress:function(){f.copyText(c),y.showToast("Copied dispatch data to clipboard.",r.getAssetIDByName("toast_copy_link"))}},React.createElement(v,{style:{fontFamily:e.constants.Fonts.CODE_SEMIBOLD,fontSize:12}},c))))}const{FormRow:g}=i.Forms;function b(a){let{dispatch:t,navigation:c}=a;return React.createElement(g,{label:t.data.type,subLabel:t.time,trailing:g.Arrow,onPress:function(){return c.push("VendettaCustomPage",{title:"Dispatch",render:function(){return React.createElement(E,{dispatch:t})}})}})}const{FormDivider:_,FormText:x}=i.Forms;function N(){const a=e.NavigationNative.useNavigation();l.useProxy(o),l.useProxy(n.storage);const t=Math.random()<=.1;return o.length!==0?React.createElement(e.ReactNative.View,{style:{flex:1}},React.createElement(e.ReactNative.FlatList,{data:Object.values(o),renderItem:function(c){let{item:P}=c;return React.createElement(b,{dispatch:P,navigation:a})},ItemSeparatorComponent:_})):React.createElement(e.ReactNative.View,{style:{flex:1,justifyContent:"center",alignItems:"center"}},React.createElement(e.ReactNative.Image,{source:t?{uri:p}:r.getAssetIDByName("empty_blocked_users"),style:{width:256,height:128,resizeMode:"contain"}}),React.createElement(x,{style:{textAlign:"center"}},"There are no dispatches. Here's ",t?"Wungus":"Wumpus"," for now."))}const{FormSection:F,FormDivider:D,FormRow:u,FormSwitchRow:w}=i.Forms;function I(){const a=e.NavigationNative.useNavigation();return l.useProxy(n.storage),React.createElement(e.ReactNative.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(F,{title:"Flux",titleStyleType:"no_border"},React.createElement(w,{label:"Log all dispatches",subLabel:"Disabled by default due to performance concerns.",leading:React.createElement(u.Icon,{source:r.getAssetIDByName(n.storage.flux.logger.enabled?"ic_noise_cancellation_active":"ic_noise_cancellation_disabled")}),value:n.storage.flux.logger.enabled,onValueChange:function(t){n.storage.flux.logger.enabled=t}}),React.createElement(D,null),React.createElement(u,{label:"Open logs",leading:React.createElement(u.Icon,{source:r.getAssetIDByName("ic_rich_presence_dark_12px")}),trailing:u.Arrow,onPress:function(){return a.push("VendettaCustomPage",{title:"Dispatches",render:N})}})))}n.storage.flux??={logger:{enabled:!1,ignoreList:""}};const S=[h()];function A(){S.forEach(function(a){return a()})}return d.onUnload=A,d.settings=I,d})({},vendetta.plugin,vendetta.metro.common,vendetta.patcher,vendetta.storage,vendetta.ui.assets,vendetta.ui.components,vendetta.utils,vendetta.ui.toasts);
